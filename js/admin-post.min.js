/**
 * Create an audio version of your posts, with a selection of more than 120+ voices across more than 30 languages and variants.
 * Exclusively on Envato Market: https://speaker-airy.merkulov.design/
 *
 * @encoding        UTF-8
 * @version         1.2.0
 * @copyright       Copyright (C) 2018 - 2024 Merkulove ( https://merkulov.design/ ). All rights reserved.
 * @license         GPLv3 or later
 * @contributors    Alexander Khmelnitskiy (info@alexander.khmelnitskiy.ua), Dmitry Merkulov (dmitry@merkulov.design)
 * @support         help@merkulov.design
 **/
!function(e){"use strict";e(document).ready((function(){let t,a=!1,i=window.mdpSpeaker,n=!1,s=!1,l=e("#mdp-speaker-lite-speech-template-editor-box .mdp-iframe-preloader"),d=e("#mdp-speaker-lite-add-speech-template-btn").data("post-url"),o=e("#mdp-speaker-lite-speech-template-editor-iframe"),p=e("#mdp-speaker-lite-speech-templates-template"),r=p.parent().data("mdc-index");void 0!==r&&(t=window.MerkulovMaterial[r],t.listen("MDCSelect:change",f),f());let m,c=e("#mdp-speaker-lite-element-form-xpath");function u(t){void 0!==t&&clearTimeout(m);let a,i=j(c.val()),n=e("#mdp-speaker-lite-element-form-content").parent().data("mdc-index");a=window.MerkulovMaterial[n],a.value=i}function f(){let t=p.val(),a=e(".mdp-speaker-lite-st-controls .mdp-speaker-lite-edit"),i=e(".mdp-speaker-lite-st-controls .mdp-speaker-lite-make-default"),n=e(".mdp-speaker-lite-st-controls .mdp-speaker-lite-delete"),s=i.data("default-for-post-type");"content"===t?(i.html("outlined_flag"),a.prop("disabled",!0),i.prop("disabled",!0),n.prop("disabled",!0)):s!==t?(i.html("outlined_flag"),a.prop("disabled",!1),i.prop("disabled",!1),n.prop("disabled",!1)):s===t?(i.html("flag"),a.prop("disabled",!1),i.prop("disabled",!1),n.prop("disabled",!1)):(a.prop("disabled",!1),i.prop("disabled",!1),n.prop("disabled",!1))}function h(e){console.error(e),e.message?window.alert("ERROR:\n "+e.message):e.responseText?window.alert("ERROR:\n "+e.responseText):window.alert("ERROR:\n "+e)}function g(e){return"string"==typeof e&&decodeURIComponent(e)!==e}function k(e){g(e)&&(e=decodeURI(e));let t,a=o[0].contentDocument;try{return t=a.evaluate(e,a,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,t}catch(e){console.warn(e)}}function v(){n=!0,M()}function b(e){return e&&e.id?'//*[@id="'+e.id+'"]':function(e){let t=[];for(;e&&e.nodeType==Node.ELEMENT_NODE;e=e.parentNode){let a=0,i=!1;for(let t=e.previousSibling;t;t=t.previousSibling)t.nodeType!=Node.DOCUMENT_TYPE_NODE&&t.nodeName==e.nodeName&&++a;for(let t=e.nextSibling;t&&!i;t=t.nextSibling)t.nodeName==e.nodeName&&(i=!0);let n=(e.prefix?e.prefix+":":"")+e.localName,s=a||i?"["+(a+1)+"]":"";t.splice(0,0,n+s)}return t.length?"/"+t.join("/"):null}(e)}function x(t){let a=b(t);a=encodeURI(a),e(t).data("xpath",a),y("element",function(e){let t=e.constructor.name.replace("HTML","");return"Element"!==t&&(t=t.replace("Element","")),t}(t),a)}function y(t="element",a="New Element",i="",n,s,l,d,o,p){let r;"element"===t?(g(i)&&(i=decodeURI(i)),r=j(i),r=j(i).length>0?j(i):"<i>Content not found for this element</i>"):"text"===t?r=d:"pause"===t&&(r="Time: "+o+"ms, ",r+="Strength: "+p),i=encodeURI(i),e("#mdp-speaker-lite-st-list").append(`\n                <li class="mdc-list-item"\n                    data-type="${t}"\n                    data-name="${a}" \n                    data-xpath="${i}"                      \n                    data-voice="${n}"\n                    data-say-as="${s}"\n                    data-emphasis="${l}"\n                    data-time="${o}"\n                    data-strength="${p}">\n                    <span title="Edit" class="mdp-edit-item material-icons" aria-hidden="true">edit</span>                    \n                    <span class="mdc-list-item__text">                        \n                        <span class="mdc-list-item__primary-text">${a}</span>\n                        <span class="mdc-list-item__secondary-text">${r}</span>\n                    </span>                    \n                    <span title="Remove" class="mdp-remove-item mdc-list-item__meta material-icons" aria-hidden="true">close</span>\n                </li>\n            `),w()}function w(){let t=e("#mdp-speaker-lite-st-list li").length;if(t>0?(e(".mdp-list-box .mdp-stb-subtitle").removeClass("mdc-hidden"),e(".mdp-list-box .mdp-stb-info").addClass("mdc-hidden")):(e(".mdp-list-box .mdp-stb-subtitle").addClass("mdc-hidden"),e(".mdp-list-box .mdp-stb-info").removeClass("mdc-hidden")),t>1){let t=Math.floor(Math.random()*Math.floor(3));t++,e(".mdp-list-box .mdp-stb-info.mdp-help-"+t).removeClass("mdc-hidden")}else e(".mdp-list-box .mdp-stb-info.mdp-help-1").addClass("mdc-hidden"),e(".mdp-list-box .mdp-stb-info.mdp-help-2").addClass("mdc-hidden"),e(".mdp-list-box .mdp-stb-info.mdp-help-3").addClass("mdc-hidden")}function _(t){void 0!==t&&t.preventDefault(),e("#mdp-speaker-lite-element-form").addClass("mdc-hidden")}function C(){o.contents().find("body .mdp-selected").removeClass("mdp-active mdp-selected"),e("#mdp-speaker-lite-st-list li").each((function(){if("element"!==e(this).data("type"))return!0;let t=e(this).data("xpath");t=decodeURI(t);let a=k(t);e(a).addClass("mdp-selected"),e(this).hasClass("mdp-active")&&e(a).addClass("mdp-active")}))}function M(){let t=e(".mdp-side-panel > footer .mdp-st-save-btn");e("#mdp-speaker-lite-template-name").val().length>=1&&e("#mdp-speaker-lite-st-list li").length>=1?t.prop("disabled",!1):t.prop("disabled",!0)}function E(t,a="Edit Element",n=!1,s="element"){let l=!1;void 0===t&&(l=!0);let d=e("#mdp-speaker-lite-element-form");if(d.attr("data-type",s),d.data("type",s),d.attr("data-is-new",l),d.data("is-new",l),d.removeClass("mdc-hidden"),d.find(".mdp-title").html(a),function(t){let a="New Element",i=e("#mdp-speaker-lite-element-form").data("type");"text"===i?a="New Text":"pause"===i&&(a="New Pause");void 0!==t&&(a=t.data("name"));let n=e("#mdp-speaker-lite-element-form-name").parent().data("mdc-index");window.MerkulovMaterial[n].value=a}(t),"element"===s||"text"===s){"element"===s?(function(){let t=e("#mdp-speaker-lite-element-form");t.find(".mdp-speaker-lite-xpath-box").show(),t.find(".mdp-speaker-lite-content-box").show(),t.find(".mdp-speaker-lite-voice-box").show(),t.find(".mdp-speaker-lite-say-as-box").show(),t.find(".mdp-speaker-lite-emphasis-box").show(),t.find(".mdp-speaker-lite-time-box").hide(),t.find(".mdp-speaker-lite-strength-box").hide()}(),function(e){let t="",a="";void 0!==e&&(t=e.data("xpath"),t=decodeURI(t),a=j(t));I(a,!0)}(t)):(function(){let t=e("#mdp-speaker-lite-element-form");t.find(".mdp-speaker-lite-content-box").show(),t.find(".mdp-speaker-lite-voice-box").show(),t.find(".mdp-speaker-lite-say-as-box").show(),t.find(".mdp-speaker-lite-emphasis-box").show(),t.find(".mdp-speaker-lite-xpath-box").hide(),t.find(".mdp-speaker-lite-time-box").hide(),t.find(".mdp-speaker-lite-strength-box").hide()}(),function(e){let t="";void 0!==e&&(t=e.find(".mdc-list-item__secondary-text").html());I(t,!1)}(t)),function(e){let t="/html[1]/body[1]/div[1]";void 0!==e&&(t=e.data("xpath"));t=decodeURI(t);let a=c.parent().data("mdc-index");window.MerkulovMaterial[a].value=t}(t),function(t){D("#mdp-speaker-lite-language-filter","0","0"),function(){setTimeout((function(){e("#mdp-speaker-lite-settings-language-tbl tbody").hide(),e("#mdp-speaker-lite-settings-language-tbl_info").hide(),e("#mdp-speaker-lite-settings-language-tbl_paginate").hide(),e("#mdp-speaker-lite-settings-language-tbl_length").hide(),e("#mdp-speaker-lite-settings-language-tbl thead").hide()}),100);let t=e("#mdp-speaker-lite-settings-language-tbl");t.removeClass("hidden"),t.DataTable({retrieve:!0,lengthMenu:[[-1],["All"]],initComplete:function(){this.api().columns().every((function(){let t=this,a=e("#mdp-speaker-lite-language-filter");0===t[0][0]&&a.on("change",(function(){e("#mdp-speaker-lite-settings-language-tbl tbody").show(),e("#mdp-speaker-lite-settings-language-tbl_info").show(),e("#mdp-speaker-lite-settings-language-tbl_paginate").hide(),e("#mdp-speaker-lite-settings-language-tbl_length").hide(),e("#mdp-speaker-lite-settings-language-tbl thead").show();let a=e.fn.dataTable.util.escapeRegex(e(this).val());"0"===a&&(a=""),t.search(a?"^"+a+"$":"",!0,!1).draw()}))}))}}),e("#mdp-speaker-lite-settings-language-tbl tbody").on("click","tr",(function(){e("#mdp-speaker-lite-settings-language-tbl tr.selected").removeClass("selected"),e(this).addClass("selected");let t=e("#mdp-speaker-lite-settings-language-tbl tr.selected .mdp-voice-name").attr("title"),a=e("#mdp-speaker-lite-settings-language-tbl tr.selected .mdp-lang-code").text();e(".mdp-now-used strong").html(t),e("#mdp-speaker-lite-settings-language").val(t),e("#mdp-speaker-lite-settings-language-code").val(a);let i=e(".mdp-now-used audio");i.attr("src","https://cloud.google.com/text-to-speech/docs/audio/"+t+".mp3"),i[0].pause(),i[0].load()}))}();let a=i.voice;void 0!==t&&"undefined"!==t.data("voice")&&(a=t.data("voice"));e("#mdp-speaker-lite-settings-language").val(a),e(".mdp-speaker-lite-voice-box .mdp-now-used strong").html(a),e(".mdp-speaker-lite-voice-box .mdp-now-used audio").attr("src","https://cloud.google.com/text-to-speech/docs/audio/"+a+".mp3")}(t);let a="none",n="none";void 0!==t&&(a=t.data("say-as"),n=t.data("emphasis")),D("#mdp-speaker-lite-element-form-say-as",a,"none"),D("#mdp-speaker-lite-element-form-emphasis",n,"none")}else if("pause"===s){!function(){let t=e("#mdp-speaker-lite-element-form");t.find(".mdp-speaker-lite-xpath-box").hide(),t.find(".mdp-speaker-lite-content-box").hide(),t.find(".mdp-speaker-lite-voice-box").hide(),t.find(".mdp-speaker-lite-say-as-box").hide(),t.find(".mdp-speaker-lite-emphasis-box").hide(),t.find(".mdp-speaker-lite-time-box").show(),t.find(".mdp-speaker-lite-strength-box").show()}(),function(t){let a="300";void 0!==t&&(a=t.data("time"));let i=e("#mdp-speaker-lite-element-form-time").data("mdc-index");window.MerkulovMaterial[i].value=a,e(".mdp-speaker-lite-time-box .mdc-text-field-helper-text strong").html(a),setTimeout((function(){window.dispatchEvent(new Event("resize"))}),500)}(t);let a="none";void 0!==t&&(a=t.data("strength")),D("#mdp-speaker-lite-element-form-strength",a,"none")}!function(t){let a=e("#mdp-speaker-lite-element-form").find("footer .mdp-save-btn");a.prop("disabled",!1),t?a.find(".mdc-button__label").html("Add"):a.find(".mdc-button__label").html("Save")}(l),d.find(".mdp-element-form").scrollTop(0)}function T(e){let t="Edit Text";"undefined"!==e&&(t="Add Text"),E(e,t,!0,"text")}function R(t){let a="Edit Pause";"undefined"!==t&&(a="Add Pause",e("#mdp-speaker-lite-element-form-time-input").val("300")),E(t,a,!0,"pause")}function D(t,a,i="none"){void 0!==a&&"undefined"!==a||(a=i);let n=e(t).parent().data("mdc-index");window.MerkulovMaterial[n].value=a}function I(t="",a=!1){let i=e("#mdp-speaker-lite-element-form-content").parent().data("mdc-index"),n=window.MerkulovMaterial[i];n.value=t,n.disabled=a}function j(e){let t=k(e);return null==t?"":function(e,t=!0,a=!0,i=!0,n=99){let s=e.innerHTML;if(t){let e=/((<style>)|(<style type=.+))((\s+)|(\S+)|(\r+)|(\n+))(.+)((\s+)|(\S+)|(\r+)|(\n+))(<\/style>)/g;s=s.replace(e,""),s=s.replace(/(<([^>]+)>)/gi,"")}return a&&(s=s.replace(/[\n\r\t]/g," ")),i&&(s=s.replace(/ +(?= )/g,"")),n&&(s=s.substring(0,n)),s.trim()}(t,!0,!0,!0,0)}function N(){e("html, body").css("overflow",""),e("#mdp-speaker-lite-template-speech-template-editor").addClass("mdc-hidden")}function S(e){17===e.which&&(s=!0,o.contents().find("body .mdp-highlight").removeClass("mdp-highlight"))}function U(){s=!1}function $(){if(!s){if(e(this).hasClass("mdp-selected")){let t=decodeURI(e(this).data("xpath")),a=e("#mdp-speaker-lite-st-list");e("#mdp-speaker-lite-st-list li").each((function(){decodeURI(e(this).data("xpath"))===t&&(e(this).remove(),!a.find("li").length>=1&&a.empty(),w())})),e(this).removeClass("mdp-selected")}else e(this).hasClass("mdp-highlight")?(e(this).removeClass("mdp-highlight").addClass("mdp-selected"),x(e(this)[0])):(e(this).addClass("mdp-selected"),x(e(this)[0]));return v(),!1}}function A(t){if(s)return;if(e(t.target).is("body"))return void o.contents().find("body .mdp-highlight").removeClass("mdp-highlight");o.contents().find("body .mdp-highlight").removeClass("mdp-highlight");let a=t.target.constructor.name;a.startsWith("HTML")&&"HTMLIFrameElement"!==a&&e(t.target).addClass("mdp-highlight")}function P(t=!1){e("html, body").css("overflow","hidden"),e("#mdp-speaker-lite-template-speech-template-editor").removeClass("mdc-hidden"),function(){let e=document.getElementById("mdp-speaker-lite-st-list");Sortable.create(e,{animation:150,ghostClass:"mdp-blue-background",onEnd:function(){v()}})}(),l.addClass("mdp-active"),o.attr("src",d);let a=e("#mdp-speaker-lite-template-name").parent().data("mdc-index");window.MerkulovMaterial[a].value=t?q(O)+" "+q(L):window.MerkulovMaterial[a].value}document.body.classList.contains("block-editor-page")&&!document.body.classList.contains("vc_editor")&&wp.data.subscribe((function(){if(!wp.data.select("core/editor"))return;let t=wp.data.select("core/editor").isSavingPost(),i=wp.data.select("core/editor").isAutosavingPost(),n=wp.data.select("core/editor").getCurrentPost().status;if(t&&!i){if("publish"===n){let t=e(".mdp-warning");t.length&&(t.html("Refresh this page to see Speaker controls"),setTimeout((function(){location.reload()}),800))}a=!1}})),e(":input").on("change",(function(){a=!0})),e(document).on("click","#mdp_speaker_lite_generate",(function(t){if(t.preventDefault(),e(this).hasClass("is-busy"))return;let n=!1;document.body.classList.contains("block-editor-page")&&wp.data.select("core/editor")&&wp.data.select("core/editor").isEditedPostDirty()&&(n=!0);if((a||n)&&!confirm("It looks like you made changes and did not save it. Continue anyway?"))return;e(this).addClass("is-busy").attr("disabled",!0);let s={action:"gspeak",security:i.ajax_nonce,post_id:i.post_id,stid:p.val()};e.post(ajaxurl,s,(function(e){e.success?location.reload():h(e)})).fail((function(e){h(e)})).always((function(){e("#mdp_speaker_lite_generate").removeClass("is-busy").attr("disabled",!1)}))})),e(document).on("click","#mdp_speaker_lite_remove",(function(t){if(t.preventDefault(),e(this).hasClass("is-busy"))return;if(!confirm("Are you sure you want to delete the audio version of this post?"))return;e(this).addClass("is-busy").attr("disabled",!0);let a={action:"remove_audio",security:i.ajax_nonce,post_id:i.post_id};e.post(ajaxurl,a,(function(e){"ok"===e&&location.reload()})).fail((function(){window.alert("error")})).always((function(){e("#mdp_speaker_lite_generate").removeClass("is-busy").attr("disabled",!1)}))})),e(document).on("click","#mdp-speaker-lite-speech-template-editor-box header > .mdp-close-btn",(function(e){if(e.preventDefault(),n&&!confirm("It looks like you made changes and did not save it. Continue anyway?"))return;N()})),e(document).on("click","#mdp-speaker-lite-speech-template-editor-box .mdp-st-save-btn",(function(t){t.preventDefault(),l.addClass("mdp-active");let a,s=e("#mdp-speaker-lite-template-name").val(),d=e(".mdp-side-panel footer > .mdp-st-save-btn").data("is-new");d?(o=s,o=(o=(o+=Date.now()).normalize("NFD").replace(/[\u0300-\u036f]/g,"")).replace(/[\u0250-\ue007]/g,""),a=o=btoa(o)):a=p.val();var o;let r=[];e("#mdp-speaker-lite-st-list li").each((function(){let t=e(this).data("type"),a="",i="",n="",s="",l="",d="",o="",p="";"element"===t?(a=e(this).data("name"),i=e(this).data("xpath"),i=decodeURI(i),n=e(this).data("voice"),s=e(this).data("say-as"),l=e(this).data("emphasis")):"text"===t?(a=e(this).data("name"),d=e(this).find(".mdc-list-item__secondary-text").html(),n=e(this).data("voice"),s=e(this).data("say-as"),l=e(this).data("emphasis")):"pause"===t&&(a=e(this).data("name"),o=e(this).data("time"),p=e(this).data("strength")),r.push({type:t,name:a,xpath:i,voice:n,sayAs:s,emphasis:l,content:d,time:o.toString(),strength:p})}));let m={};m.id=a,m.name=s,m.elements=r,m=JSON.stringify(m);let c={action:"process_st",security:i.ajax_nonce,st:m,delete:!1};e.post(ajaxurl,c,(function(t){if(t.success){if(d){let e=p.parent().find("ul.mdc-list");e.append(`\n                            <li class="mdc-list-item" data-value="${a}" role="option" tabindex="-1">${s}</li>\n                        `);let t=p.parent().data("mdc-index");window.MerkulovMaterial[t].selectedIndex=e.find("li").length-1}else{p.parent().find('ul.mdc-list li[data-value="'+a+'"]').html(s),e("#mdp-speaker-lite-speech-templates-template-text").html(s)}N(),n=!1,e(".mdp-side-panel footer .mdp-st-save-btn").prop("disabled",!0)}else h(t)})).fail((function(e){h(e)}))})),e(document).on("click","#mdp-speaker-lite-add-speech-template-btn",(function(t){t.preventDefault();let a=e(".mdp-side-panel > footer .mdp-st-save-btn");a.find(".mdc-button__label").html("Add Speech Template"),a.data("is-new",!0),e("#mdp-speaker-lite-st-list").empty(),P(!0)})),e(document).on("click",".mdp-speaker-lite-st-controls .mdp-speaker-lite-edit",(function(t){t.preventDefault();let a=e(".mdp-side-panel > footer .mdp-st-save-btn");a.find(".mdc-button__label").html("Save Speech Template"),a.data("is-new",!1),P()})),e(document).on("click",".mdp-speaker-lite-st-controls .mdp-speaker-lite-make-default",(function(t){t.preventDefault();let a=p.val(),n=function(){let t,a;return a=null,t=e("body").attr("class").split(" "),e(t).each((function(){if("post-type-"===this.substr(0,10))return a=this.split("post-type-"),void(a=a[a.length-1])})),a}(),s={action:"set_default_st",security:i.ajax_nonce,stid:a,postType:n};e.post(ajaxurl,s,(function(t){t.success?e(".mdp-speaker-lite-st-controls .mdp-speaker-lite-make-default").html("flag").prop("disabled",!0):h(t)})).fail((function(e){h(e)}))})),e(document).on("click",".mdp-speaker-lite-st-controls .mdp-speaker-lite-delete",(function(t){if(t.preventDefault(),!confirm("Are you sure you want to delete this template?"))return;let a=p.val(),n={};n.id=a,n.name="",n.elements=[],n=JSON.stringify(n);let s={action:"process_st",security:i.ajax_nonce,st:n,delete:!0};e.post(ajaxurl,s,(function(e){if(e.success){let e=p.parent().data("mdc-index");window.MerkulovMaterial[e].selectedIndex=0,p.parent().find('.mdc-list li[data-value="'+a+'"]').remove()}else h(e)})).fail((function(e){h(e)}))})),e(document).on("click","#mdp-speaker-lite-st-list .mdp-remove-item",(function(t){t.preventDefault();let a=e(this).closest(".mdc-list-item");if("element"===a.data("type")){let t=a.data("xpath");t=decodeURI(t),e(k(t)).removeClass("mdp-selected")}let i=a.parent();a.remove(),i.find("li").length>=1||i.empty();w(),v()})),e(document).on("click","#mdp-speaker-lite-st-list .mdp-edit-item",(function(t){t.preventDefault(),t.stopPropagation();let a=e(this).closest(".mdc-list-item"),i=a.data("type");e("#mdp-speaker-lite-element-form").data("liIndex",a.index()),"element"===i?E(a,"Edit Element",!1,"element"):"text"===i?T(a):"pause"===i&&R(a);v()})),e(document).on("change","#mdp-speaker-lite-element-form-xpath",u),e(document).on("keyup","#mdp-speaker-lite-element-form-xpath",(function(){clearTimeout(m),m=setTimeout(u,1500)})),e(document).on("keydown","#mdp-speaker-lite-element-form-xpath",(function(){clearTimeout(m)})),e(document).on("click","#mdp-speaker-lite-st-list li",(function(){if(e(this).hasClass("mdp-active"))o.contents().find("body .mdp-active").removeClass("mdp-active"),e(this).removeClass("mdp-active");else if(e("#mdp-speaker-lite-st-list li").removeClass("mdp-active"),e(this).addClass("mdp-active"),o.contents().find("body .mdp-active").removeClass("mdp-active"),"element"===e(this).data("type")){let t=k(decodeURI(e(this).data("xpath")));if(null===t)return void o.contents().find("body .mdp-active").removeClass("mdp-active");e(t).addClass("mdp-selected mdp-active"),o[0].contentWindow.scrollTo({top:e(t).offset().top-30,behavior:"smooth"})}})),e(document).on("click",".mdp-side-panel footer .mdc-menu .mdp-add-element",(function(e){e.preventDefault(),E(void 0,"Add Element",!1,"element")})),e(document).on("click",".mdp-side-panel footer .mdc-menu .mdp-add-text",(function(e){e.preventDefault(),T()})),e(document).on("click",".mdp-side-panel footer .mdc-menu .mdp-add-pause",(function(e){e.preventDefault(),R()})),e(document).on("click","#mdp-speaker-lite-element-form .mdp-close-btn",_),e(document).on("click","#mdp-speaker-lite-element-form",(function(t){e(t.target).is("#mdp-speaker-lite-element-form")&&_()})),e(document).on("click","#mdp-speaker-lite-element-form footer .mdp-cancel-btn",_),e(document).on("click","#mdp-speaker-lite-element-form footer .mdp-save-btn",(function(){let t=e("#mdp-speaker-lite-element-form"),a=!1;void 0!==t.data("is-new")&&(a=t.data("is-new"));let i=-1;a||(i=t.data("liIndex"));let n="element";void 0!==t.data("type")&&(n=t.data("type"));"element"===n?function(t,a){let i,n=e("#mdp-speaker-lite-element-form-name").val(),s=c.val(),l=e("#mdp-speaker-lite-settings-language").val(),d=e("#mdp-speaker-lite-element-form-say-as").val(),o=e("#mdp-speaker-lite-element-form-emphasis").val();t?y("element",n,s,l,d,o):(i=e("#mdp-speaker-lite-st-list li").eq(a),i.data("name",n),i.find(".mdc-list-item__primary-text").contents().first()[0].textContent=n,i.data("xpath",encodeURI(s)),i.data("voice",l),i.data("say-as",d),i.data("emphasis",o));C()}(a,i):"text"===n?function(t,a){let i,n=e("#mdp-speaker-lite-element-form-name").val(),s=e("#mdp-speaker-lite-element-form-content").val(),l=e("#mdp-speaker-lite-element-form-say-as").val(),d=e("#mdp-speaker-lite-settings-language").val(),o=e("#mdp-speaker-lite-element-form-emphasis").val();t?y("text",n,"",d,l,o,s):(i=e("#mdp-speaker-lite-st-list li").eq(a),i.data("name",n),i.find(".mdc-list-item__primary-text").contents().first()[0].textContent=n,i.find(".mdc-list-item__secondary-text").html(s),i.data("voice",d),i.data("say-as",l),i.data("emphasis",o));C()}(a,i):"pause"===n&&function(t,a){let i,n=e("#mdp-speaker-lite-element-form-name").val(),s=e("#mdp-speaker-lite-element-form-time-input").val(),l=e("#mdp-speaker-lite-element-form-strength").val();t?y("pause",n,"",void 0,void 0,void 0,void 0,s,l):(i=e("#mdp-speaker-lite-st-list li").eq(a),i.data("name",n),i.find(".mdc-list-item__primary-text").contents().first()[0].textContent=n,i.data("time",s),i.data("strength",l),i.find(".mdc-list-item__secondary-text").html(`Time: ${s}ms, Strength: ${l}`));C()}(a,i);_(),v()})),e(document).on("keyup keypress blur change","#mdp-speaker-lite-element-form-name",(function(){let t=e("#mdp-speaker-lite-element-form footer .mdp-save-btn");e(this).val().length>=1?t.prop("disabled",!1):t.prop("disabled",!0)})),e(document).on("keyup keypress blur change","#mdp-speaker-lite-template-name",M),o.on("mouseleave",(function(){o.contents().find("body .mdp-highlight").removeClass("mdp-highlight")})),o.on("load",(function(){o.contents().find("head").append(e("\n                <style type='text/css'>\n                    .mdp-highlight {\n                        user-select: none !important;\n                        box-shadow: inset 0 0 0 1000px rgba(34, 134, 233, 0.3) !important;\n                        outline: 2px dotted #2286e9 !important;\n                        cursor: crosshair !important;\n                        transition: .05s;\n                    }\n                    \n                    .mdp-selected {\n                        user-select: none !important;\n                        outline: 2px dashed rgba(34, 134, 233, 0.5) !important;\n                        transition: .1s;\n                    }\n                    \n                    .mdp-selected:hover {\n                        outline: 2px dashed #2286e9 !important;\n                    }\n                    \n                    .mdp-selected.mdp-active {\n                        outline: 4px solid #2286e9 !important;\n                        transition: .1s;\n                    }\n                    \n                    .mdp-selected.mdp-highlight {\n                        box-shadow: inset 0 0 0 1000px rgba(34, 134, 233, 0.1) !important;\n                        transition: .1s;\n                    }\n                    \n                </style>\n            "));let t=o[0].contentDocument;if(t.body.onmouseover=A,t.body.onkeydown=S,e(document).on("keydown",S),t.body.onkeyup=U,e(document).on("keyup",U),o.contents().find("body *").click($),!e(".mdp-side-panel > footer .mdp-st-save-btn").data("is-new")){!function(t){if("content"===t)return;let a={action:"get_st",security:i.ajax_nonce,stid:t};e.post(ajaxurl,a,(function(t){if(t.success){let a=t.message;e("#mdp-speaker-lite-template-name").val(a.name),e("#mdp-speaker-lite-st-list").empty(),e.each(a.elements,(function(e,t){y(t.type,t.name,encodeURI(t.xpath),t.voice,t.sayAs,t.emphasis,t.content,t.time,t.strength)})),C()}else h(t)})).fail((function(e){h(e)}))}(p.val())}l.removeClass("mdp-active")}));let O=["adamant","adroit","amatory","animistic","antic","arcadian","baleful","bellicose","bilious","boorish","calamitous","caustic","cerulean","comely","concomitant","contumacious","corpulent","crapulous","defamatory","didactic","dilatory","dowdy","efficacious","effulgent","egregious","endemic","equanimous","execrable","fastidious","feckless","fecund","friable","fulsome","garrulous","guileless","gustatory","heuristic","histrionic","hubristic","incendiary","insidious","insolent","intransigent","inveterate","invidious","irksome","jejune","jocular","judicious","lachrymose","limpid","loquacious","luminous","mannered","mendacious","meretricious","minatory","mordant","munificent","nefarious","noxious","obtuse","parsimonious","pendulous","pernicious","pervasive","petulant","platitudinous","precipitate","propitious","puckish","querulous","quiescent","rebarbative","recalcitant","redolent","rhadamanthine","risible","ruminative","sagacious","salubrious","sartorial","sclerotic","serpentine","spasmodic","strident","taciturn","tenacious","tremulous","trenchant","turbulent","turgid","ubiquitous","uxorious","verdant","voluble","voracious","wheedling","withering","zealous"],L=["ninja","chair","pancake","statue","unicorn","rainbows","laser","senor","bunny","captain","nibblets","cupcake","carrot","gnomes","glitter","potato","salad","toejam","curtains","beets","toilet","exorcism","stick figures","mermaid eggs","sea barnacles","dragons","jellybeans","snakes","dolls","bushes","cookies","apples","ice cream","ukulele","kazoo","banjo","opera singer","circus","trampoline","carousel","carnival","locomotive","hot air balloon","praying mantis","animator","artisan","artist","colorist","inker","coppersmith","director","designer","flatter","stylist","leadman","limner","make-up artist","model","musician","penciller","producer","scenographer","set decorator","silversmith","teacher","auto mechanic","beader","bobbin boy","clerk of the chapel","filling station attendant","foreman","maintenance engineering","mechanic","miller","moldmaker","panel beater","patternmaker","plant operator","plumber","sawfiler","shop foreman","soaper","stationary engineer","wheelwright","woodworkers"];function q(e){let t=e[Math.floor(Math.random()*e.length)];return t.toLowerCase().split(" ").map((function(e){return e.replace(e[0],e[0].toUpperCase())})).join(" ")}}))}(jQuery);