/**
 * Create an audio version of your posts, with a selection of more than 120+ voices across more than 30 languages and variants.
 * Exclusively on Envato Market: https://speaker-airy.merkulov.design/
 *
 * @encoding        UTF-8
 * @version         1.2.0
 * @copyright       Copyright (C) 2018 - 2024 Merkulove ( https://merkulov.design/ ). All rights reserved.
 * @license         GPLv3 or later
 * @contributors    Alexander Khmelnitskiy (info@alexander.khmelnitskiy.ua), Dmitry Merkulov (dmitry@merkulov.design)
 * @support         help@merkulov.design
 **/
!function(e){"use strict";e(document).ready((function(){let t=[],s=!1;e("#doaction").on("click",(function(a){if("speaker"!==e("#bulk-action-selector-top").val())return;if(a.preventDefault(),t=[],s=!0,e("#the-list .check-column input:checked").each((function(){t.push(this.value)})),!t.length)return;t=t.reverse();let l=t.pop();e("#post-"+l+" .mdp-speaker-lite-gen").click(),e("#cb-select-"+l).click()})),e(document).on("click",".mdp-speaker-lite-gen",(function(a){let l=window.mdp_speaker,i=e(this),n=i.parent();if(a.preventDefault(),i.hasClass("is-busy"))return;n.find("a").addClass("is-busy").attr("disabled",!0),i.find("img").remove();let c=e(this).data("post-id"),o={action:"gspeak",security:l.ajax_nonce,post_id:c,stid:e(this).data("stid")};function r(e){console.error(e),e.message?alert("ERROR:\n "+e.message):e.responseText?alert("ERROR:\n "+e.responseText):alert("ERROR:\n "+e)}e.ajax({type:"POST",url:ajaxurl,data:o,success:function(a){if(a.success?(n.html('<a href="'+l.audio_url+"post-"+c+'.mp3" download="" class="mdp-speaker-lite-download"></a>'),n.append('<a href="#" class="mdp-speaker-lite-gen" data-post-id="'+c+'" style="display: none;"></a>')):r(a),t.length){let s=t.pop();e("#post-"+s+" .mdp-speaker-lite-gen").click(),e("#cb-select-"+s).click()}else s&&(s=!1,alert("Generation of Audio Files is Complete."))},fail:function(s){if(n.html('<a href="#" class="mdp-speaker-lite-error"></a>'),r(s),t.length){let s=t.pop();e("#post-"+s+" .mdp-speaker-lite-gen").click(),e("#cb-select-"+s).click()}}})}))}))}(jQuery);